<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ritmos Cubanos website</title>
    <meta name="description" content="Cuban Timeline by ag-sound" />
    <meta name="author" content="ag-sound" />

    <meta property="og:title" content="ritmo-cubano-timeline" />
    <meta property="og:description" content="Cuban Timeline by ag-sound" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="google-ads-consent-enabled" content="true" />

    <!-- ðŸŒ Google Translate Setup -->
    <meta name="google" content="notranslate" />
    <style>
      /**  this works **/
      .goog-te-gadget-simple {
        border: none !important;
        display: flex !important;
        align-items: center !important;
      }

      .goog-te-gadget-simple .VIpgJd-ZVi9od-xl07Ob-lTBxed {
      }

      .goog-te-gadget-simple .VIpgJd-ZVi9od-xl07Ob-lTBxed span {
        display: inline-block !important;
        white-space: nowrap !important;
      }

      /**  this works **/
      .goog-te-gadget-simple .VIpgJd-ZVi9od-xl07Ob-lTBxed span[style*="border-left"] {
        display: none !important;
      }

      .goog-te-gadget-simple .VIpgJd-ZVi9od-xl07Ob-lTBxed span:first-child {
        padding-top: 16px !important;
        font-size: 0 !important;
      }

      .goog-te-gadget-simple .VIpgJd-ZVi9od-xl07Ob-lTBxed span:first-child::after {
        content: "Choose Lang" !important;
        font-size: 12px !important;
        display: inline-block !important;
      }

      /* Loading state styles */
      #google_translate_element.loading {
        min-width: 120px;
        min-height: 24px;
        position: relative;
      }

      #google_translate_element.loading::before {
        content: "Loading translator...";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 12px;
        color: #666;
      }
    </style>
    <script type="text/javascript">
      function googleTranslateElementInit() {
        const element = document.getElementById("google_translate_element");
        element.classList.add("loading");

        // Set a timeout to remove loading state if translation fails
        const timeout = setTimeout(() => {
          element.classList.remove("loading");
        }, 5000);

        new google.translate.TranslateElement(
          {
            pageLanguage: "en",
            includedLanguages: "en,es,fr,de,pt,it,ru,zh-CN,ja,ko,ar,hi,bn,pa,tr,vi,pl,nl,fa,sw",
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
            autoDisplay: false,
            multilanguagePage: true,
          },
          "google_translate_element"
        );

        // Remove loading state once translation is ready
        const observer = new MutationObserver(mutations => {
          mutations.forEach(mutation => {
            if (
              mutation.addedNodes.length &&
              mutation.addedNodes[0].className?.includes("goog-te-gadget-simple")
            ) {
              element.classList.remove("loading");
              clearTimeout(timeout);
              observer.disconnect();
            }
          });
        });

        observer.observe(element, { childList: true, subtree: true });
      }

      // Load Google Translate script with error handling
      function loadGoogleTranslate() {
        const script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";
        script.onerror = () => {
          const element = document.getElementById("google_translate_element");
          element.classList.remove("loading");
          element.innerHTML =
            '<span style="color: #666; font-size: 12px;">Translation unavailable</span>';
        };
        document.head.appendChild(script);
      }

      // Load the script when the page is ready
      if (document.readyState === "complete") {
        loadGoogleTranslate();
      } else {
        window.addEventListener("load", loadGoogleTranslate);
      }
    </script>

    <!-- Umami Analytics -->
    <script
      defer
      src="https://cloud.umami.is/script.js"
      data-website-id="bc9f0a35-857e-4d5b-b5ce-1bdb999fce77"
    ></script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
